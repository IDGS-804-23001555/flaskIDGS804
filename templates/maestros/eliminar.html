{% extends "layout.html" %}
{% block container %}
{% import "_macros.html" as macros %}

<div class="max-w-md mx-auto py-10 px-4">
    <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg border border-red-100 dark:border-red-900/30">
        
        <div class="flex items-center mb-6">
            <div class="bg-red-100 p-3 rounded-full mr-4">
                <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-red-600">Eliminar Maestro</h2>
        </div>

        <p class="mb-6 text-gray-600 dark:text-gray-300">
            ¿Estás seguro de que deseas eliminar a este maestro? Los datos de <strong>{{ form.nombre.data }} {{ form.apellidos.data }}</strong> se borrarán permanentemente.
        </p>

        <form action="{{ url_for('maestros.eliminar', id=request.args.get('id')) }}" method="POST">
            
            {# Token de seguridad CSRF - Crucial para evitar Error 500 #}
            {{ form.csrf_token }}

            <div class="space-y-4 mb-8">
                <div class="relative z-0 w-full group">
                    <label class="text-xs font-semibold text-gray-400 uppercase">Matrícula</label>
                    {{macros.camposNuevos(form.matricula, class="block py-2 px-0 w-full text-sm text-gray-500 bg-transparent border-0 border-b border-gray-200 cursor-not-allowed", readonly=True)}}
                </div>

                <div class="relative z-0 w-full group">
                    <label class="text-xs font-semibold text-gray-400 uppercase">Nombre Completo</label>
                    <div class="block py-2 text-sm text-gray-800 dark:text-gray-200 border-b border-gray-200">
                        {{ form.nombre.data }} {{ form.apellidos.data }}
                    </div>
                    {# Campos ocultos para mantener la integridad del formulario de WTForms si fuera necesario #}
                    <div class="hidden">
                        {{ form.nombre() }} {{ form.apellidos() }}
                    </div>
                </div>

                <div class="relative z-0 w-full group">
                    <label class="text-xs font-semibold text-gray-400 uppercase">Especialidad</label>
                    {{macros.camposNuevos(form.especialidad, class="block py-2 px-0 w-full text-sm text-gray-500 bg-transparent border-0 border-b border-gray-200 cursor-not-allowed", readonly=True)}}
                </div>
            </div>

            <div class="flex flex-col sm:flex-row gap-4">
                <button type="submit"
                    class="flex-1 text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 font-bold rounded-lg text-sm px-5 py-3 text-center transition-all">
                    Sí, eliminar definitivamente
                </button>
                
                <a href="{{ url_for('maestros.index') }}"
                    class="flex-1 text-gray-700 bg-gray-100 hover:bg-gray-200 border border-gray-300 font-medium rounded-lg text-sm px-5 py-3 text-center transition-colors">
                    No, cancelar
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}